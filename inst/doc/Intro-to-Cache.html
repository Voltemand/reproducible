<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Eliot J. B. McIntire" />


<title>Introduction to Cache</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Introduction to Cache</h1>
<h4 class="author"><em>Eliot J. B. McIntire</em></h4>
<h4 class="date"><em>July 05 2018</em></h4>


<div id="TOC">
<ul>
<li><a href="#reproducible-workflow"><span class="toc-section-number">1</span> Reproducible workflow</a><ul>
<li><a href="#differences-with-other-approaches"><span class="toc-section-number">1.1</span> Differences with other approaches</a></li>
<li><a href="#function-level-caching"><span class="toc-section-number">1.2</span> Function-level caching</a></li>
<li><a href="#caching-examples"><span class="toc-section-number">1.3</span> Caching examples</a><ul>
<li><a href="#basic-use"><span class="toc-section-number">1.3.1</span> Basic use</a></li>
</ul></li>
<li><a href="#example-1-basic-cache-use-with-tags"><span class="toc-section-number">1.4</span> Example 1: Basic cache use with tags</a></li>
<li><a href="#example-2-using-the-accessed-tag"><span class="toc-section-number">1.5</span> Example 2: using the “accessed” tag</a></li>
<li><a href="#example-3-using-keepcache"><span class="toc-section-number">1.6</span> Example 3: using keepCache</a></li>
<li><a href="#example-4-searching-for-multiple-objects-in-the-cache"><span class="toc-section-number">1.7</span> Example 4: searching for multiple objects in the cache</a></li>
<li><a href="#example-5-using-caching-to-speed-up-rerunning-expensive-computations"><span class="toc-section-number">1.8</span> Example 5: using caching to speed up rerunning expensive computations</a></li>
<li><a href="#nested-caching"><span class="toc-section-number">1.9</span> Nested Caching</a></li>
<li><a href="#cacheid"><span class="toc-section-number">1.10</span> cacheId</a></li>
<li><a href="#working-with-the-cache-manually"><span class="toc-section-number">1.11</span> Working with the Cache manually</a></li>
</ul></li>
<li><a href="#reproducible-workflow-1"><span class="toc-section-number">2</span> Reproducible Workflow</a><ul>
<li><a href="#nested-caching-1"><span class="toc-section-number">2.1</span> Nested Caching</a></li>
</ul></li>
</ul>
</div>

<div id="reproducible-workflow" class="section level1">
<h1><span class="header-section-number">1</span> Reproducible workflow</h1>
<p>As part of a reproducible workflow, caching of function calls, code chunks, and other elements of a project is a critical component. The objective of a reproducible workflow is is likely that an entire work flow from raw data to publication, decision support, report writing, presentation building etc., could be built and be reproducible anywhere, on any computer, operating system, with any starting conditions, on demand. The <code>reproducible::Cache</code> function is built to work with any R function.</p>
<div id="differences-with-other-approaches" class="section level2">
<h2><span class="header-section-number">1.1</span> Differences with other approaches</h2>
<p><code>Cache</code> uses 2 key the <code>archivist</code> functions <code>saveToLocalRepo</code> and <code>loadFromLocalRepo</code>, but does not use <code>archivist::cache</code>. Similar to <code>archivist::cache</code>, there is some reliance on <code>digest::digest</code> to determine whether the arguments are identical in subsequent iterations; however, it also uses <code>fastdigest::fastdigest</code> to make it substantially faster in many cases. It also but does <em>many</em> things that make standard caching with <code>digest::digest</code> don’t work reliably between systems. For these, the function <code>.robustDigest</code> is introduced to make caching transferable between systems. This is relevant for file paths, environments, parallel clusters, functions (which are contained within an environment), and many others (e.g., see <code>?.robustDigest</code> for methods). <code>Cache</code> also adds important elements like automated tagging and the option to retrieve disk-cached values via stashed objects in memory using <code>memoise::memoise</code>. This means that running <code>Cache</code> 1, 2, and 3 times on the same function will get progressively faster. This can be extremely useful for web apps built with, say <code>shiny</code>.</p>
</div>
<div id="function-level-caching" class="section level2">
<h2><span class="header-section-number">1.2</span> Function-level caching</h2>
<p>Any function can be cached using: <code>Cache(FUN = functionName, ...)</code>.</p>
<p>This will be a slight change to a function call, such as: <code>projectRaster(raster, crs = crs(newRaster))</code> to <code>Cache(projectRaster, raster, crs = crs(newRaster))</code>.</p>
<p>This is particularly useful for expensive operations.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(raster)</code></pre></div>
<pre><code>## Loading required package: sp</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(reproducible)

tmpDir &lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">&quot;reproducible_examples&quot;</span>, <span class="st">&quot;Cache&quot;</span>)
<span class="kw">checkPath</span>(tmpDir, <span class="dt">create =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] &quot;/tmp/RtmpgCZsyU/reproducible_examples/Cache&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ras &lt;-<span class="st"> </span><span class="kw">raster</span>(<span class="kw">extent</span>(<span class="dv">0</span>,<span class="dv">1000</span>,<span class="dv">0</span>,<span class="dv">1000</span>), <span class="dt">vals =</span> <span class="dv">1</span><span class="op">:</span><span class="fl">1e6</span>, <span class="dt">res =</span> <span class="dv">1</span>)
<span class="kw">crs</span>(ras) &lt;-<span class="st"> &quot;+proj=lcc +lat_1=48 +lat_2=33 +lon_0=-100 +ellps=WGS84&quot;</span>

newCRS &lt;-<span class="st"> &quot;+init=epsg:4326 +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0&quot;</span>
<span class="co"># No Cache</span>
<span class="kw">system.time</span>(map1 &lt;-<span class="st"> </span><span class="kw">projectRaster</span>(ras, <span class="dt">crs =</span> newCRS))</code></pre></div>
<pre><code>##    user  system elapsed 
##   3.188   0.204   3.394</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># With Cache -- a little slower the first time because saving to disk</span>
<span class="kw">system.time</span>(map1 &lt;-<span class="st"> </span><span class="kw">Cache</span>(projectRaster, ras, <span class="dt">crs =</span> newCRS, <span class="dt">cacheRepo =</span> tmpDir,
                         <span class="dt">notOlderThan =</span> <span class="kw">Sys.time</span>()))</code></pre></div>
<pre><code>##    user  system elapsed 
##   3.309   0.279   3.712</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># vastly faster the second time</span>
<span class="kw">system.time</span>(map2 &lt;-<span class="st"> </span><span class="kw">Cache</span>(projectRaster, ras, <span class="dt">crs =</span> newCRS, <span class="dt">cacheRepo =</span> tmpDir))</code></pre></div>
<pre><code>##   loading cached result from previous projectRaster call, adding to memoised copy</code></pre>
<pre><code>##    user  system elapsed 
##   0.213   0.000   0.212</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># even faster the third time</span>
<span class="kw">system.time</span>(map3 &lt;-<span class="st"> </span><span class="kw">Cache</span>(projectRaster, ras, <span class="dt">crs =</span> newCRS, <span class="dt">cacheRepo =</span> tmpDir))</code></pre></div>
<pre><code>##   loading memoised result from previous projectRaster call.</code></pre>
<pre><code>##    user  system elapsed 
##   0.061   0.000   0.061</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all.equal</span>(map1, map2) <span class="co"># TRUE</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all.equal</span>(map1, map3) <span class="co"># TRUE</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="caching-examples" class="section level2">
<h2><span class="header-section-number">1.3</span> Caching examples</h2>
<div id="basic-use" class="section level3">
<h3><span class="header-section-number">1.3.1</span> Basic use</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(raster)
<span class="co"># magrittr, if loaded, gives an error below</span>
  <span class="kw">try</span>(<span class="kw">detach</span>(<span class="st">&quot;package:magrittr&quot;</span>, <span class="dt">unload =</span> <span class="ot">TRUE</span>), <span class="dt">silent =</span> <span class="ot">TRUE</span>)

<span class="kw">try</span>(<span class="kw">clearCache</span>(tmpDir), <span class="dt">silent =</span> <span class="ot">TRUE</span>) <span class="co"># just to make sure it is clear</span>

ranNumsA &lt;-<span class="st"> </span><span class="kw">Cache</span>(rnorm, <span class="dv">10</span>, <span class="dv">16</span>, <span class="dt">cacheRepo =</span> tmpDir)

<span class="co"># All same</span>
ranNumsB &lt;-<span class="st"> </span><span class="kw">Cache</span>(rnorm, <span class="dv">10</span>, <span class="dv">16</span>, <span class="dt">cacheRepo =</span> tmpDir) <span class="co"># recovers cached copy</span></code></pre></div>
<pre><code>##   loading cached result from previous rnorm call, adding to memoised copy</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ranNumsC &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">16</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">Cache</span>(<span class="dt">cacheRepo =</span> tmpDir) <span class="co"># recovers cached copy</span></code></pre></div>
<pre><code>##   loading memoised result from previous 'rnorm' pipe sequence call.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ranNumsD &lt;-<span class="st"> </span><span class="kw">Cache</span>(<span class="kw">quote</span>(<span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dv">16</span>)), <span class="dt">cacheRepo =</span> tmpDir) <span class="co"># recovers cached copy</span></code></pre></div>
<pre><code>##   loading memoised result from previous rnorm call.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Any minor change makes it different</span>
ranNumsE &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10</span>, <span class="dv">6</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">Cache</span>(<span class="dt">cacheRepo =</span> tmpDir) <span class="co"># different</span></code></pre></div>
</div>
</div>
<div id="example-1-basic-cache-use-with-tags" class="section level2">
<h2><span class="header-section-number">1.4</span> Example 1: Basic cache use with tags</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ranNumsA &lt;-<span class="st"> </span><span class="kw">Cache</span>(rnorm, <span class="dv">4</span>, <span class="dt">cacheRepo =</span> tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;objectName:a&quot;</span>)
ranNumsB &lt;-<span class="st"> </span><span class="kw">Cache</span>(runif, <span class="dv">4</span>, <span class="dt">cacheRepo =</span> tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;objectName:b&quot;</span>)

<span class="kw">showCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="kw">c</span>(<span class="st">&quot;objectName&quot;</span>))</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 20.8 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 337 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: 536deeb32dc24ad66609558292bd53ed         format
##  2: 536deeb32dc24ad66609558292bd53ed           name
##  3: 536deeb32dc24ad66609558292bd53ed          class
##  4: 536deeb32dc24ad66609558292bd53ed           date
##  5: 536deeb32dc24ad66609558292bd53ed        cacheId
##  6: 536deeb32dc24ad66609558292bd53ed     objectName
##  7: 536deeb32dc24ad66609558292bd53ed       function
##  8: 536deeb32dc24ad66609558292bd53ed    object.size
##  9: 536deeb32dc24ad66609558292bd53ed       accessed
## 10: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 11: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 12: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 13: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 14: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 15: 536deeb32dc24ad66609558292bd53ed      preDigest
## 16: 536deeb32dc24ad66609558292bd53ed      preDigest
## 17: 913bea59e334d44c359c3d3ebe3640d0         format
## 18: 913bea59e334d44c359c3d3ebe3640d0           name
## 19: 913bea59e334d44c359c3d3ebe3640d0          class
## 20: 913bea59e334d44c359c3d3ebe3640d0           date
## 21: 913bea59e334d44c359c3d3ebe3640d0        cacheId
## 22: 913bea59e334d44c359c3d3ebe3640d0     objectName
## 23: 913bea59e334d44c359c3d3ebe3640d0       function
## 24: 913bea59e334d44c359c3d3ebe3640d0    object.size
## 25: 913bea59e334d44c359c3d3ebe3640d0       accessed
## 26: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 27: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 28: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 29: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 30: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 31: 913bea59e334d44c359c3d3ebe3640d0      preDigest
## 32: 913bea59e334d44c359c3d3ebe3640d0      preDigest
##                             artifact         tagKey
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:28
##  2:                                 Cache 2018-07-05 13:06:28
##  3:                               numeric 2018-07-05 13:06:28
##  4:                   2018-07-05 13:06:28 2018-07-05 13:06:28
##  5:      e37bb635c97bc2eeecab63816b881bbc 2018-07-05 13:06:28
##  6:                                     b 2018-07-05 13:06:28
##  7:                                 runif 2018-07-05 13:06:28
##  8:                                   688 2018-07-05 13:06:28
##  9:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 10:                          process_file 2018-07-05 13:06:28
## 11:                         process_group 2018-07-05 13:06:28
## 12:                   process_group.block 2018-07-05 13:06:28
## 13:                            call_block 2018-07-05 13:06:28
## 14:                            block_exec 2018-07-05 13:06:28
## 15:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:28
## 16: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-07-05 13:06:28
## 17:                                   rda 2018-07-05 13:06:28
## 18:                                 Cache 2018-07-05 13:06:28
## 19:                               numeric 2018-07-05 13:06:28
## 20:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 21:      85874f26b2e0c1ef689a7d379d275ebf 2018-07-05 13:06:28
## 22:                                     a 2018-07-05 13:06:28
## 23:                                 rnorm 2018-07-05 13:06:28
## 24:                                   688 2018-07-05 13:06:28
## 25:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 26:                          process_file 2018-07-05 13:06:28
## 27:                         process_group 2018-07-05 13:06:28
## 28:                   process_group.block 2018-07-05 13:06:28
## 29:                            call_block 2018-07-05 13:06:28
## 30:                            block_exec 2018-07-05 13:06:28
## 31:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:28
## 32: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:28
##                                  tagValue         createdDate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">showCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="kw">c</span>(<span class="st">&quot;^a$&quot;</span>)) <span class="co"># regular expression ... &quot;a&quot; exactly</span></code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 20.8 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 172 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: 913bea59e334d44c359c3d3ebe3640d0         format
##  2: 913bea59e334d44c359c3d3ebe3640d0           name
##  3: 913bea59e334d44c359c3d3ebe3640d0          class
##  4: 913bea59e334d44c359c3d3ebe3640d0           date
##  5: 913bea59e334d44c359c3d3ebe3640d0        cacheId
##  6: 913bea59e334d44c359c3d3ebe3640d0     objectName
##  7: 913bea59e334d44c359c3d3ebe3640d0       function
##  8: 913bea59e334d44c359c3d3ebe3640d0    object.size
##  9: 913bea59e334d44c359c3d3ebe3640d0       accessed
## 10: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 11: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 12: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 13: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 14: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 15: 913bea59e334d44c359c3d3ebe3640d0      preDigest
## 16: 913bea59e334d44c359c3d3ebe3640d0      preDigest
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:28
##  2:                                 Cache 2018-07-05 13:06:28
##  3:                               numeric 2018-07-05 13:06:28
##  4:                   2018-07-05 13:06:28 2018-07-05 13:06:28
##  5:      85874f26b2e0c1ef689a7d379d275ebf 2018-07-05 13:06:28
##  6:                                     a 2018-07-05 13:06:28
##  7:                                 rnorm 2018-07-05 13:06:28
##  8:                                   688 2018-07-05 13:06:28
##  9:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 10:                          process_file 2018-07-05 13:06:28
## 11:                         process_group 2018-07-05 13:06:28
## 12:                   process_group.block 2018-07-05 13:06:28
## 13:                            call_block 2018-07-05 13:06:28
## 14:                            block_exec 2018-07-05 13:06:28
## 15:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:28
## 16: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:28</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">showCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="kw">c</span>(<span class="st">&quot;runif&quot;</span>)) <span class="co"># show only cached objects made during runif call</span></code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 20.8 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 165 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: 536deeb32dc24ad66609558292bd53ed         format
##  2: 536deeb32dc24ad66609558292bd53ed           name
##  3: 536deeb32dc24ad66609558292bd53ed          class
##  4: 536deeb32dc24ad66609558292bd53ed           date
##  5: 536deeb32dc24ad66609558292bd53ed        cacheId
##  6: 536deeb32dc24ad66609558292bd53ed     objectName
##  7: 536deeb32dc24ad66609558292bd53ed       function
##  8: 536deeb32dc24ad66609558292bd53ed    object.size
##  9: 536deeb32dc24ad66609558292bd53ed       accessed
## 10: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 11: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 12: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 13: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 14: 536deeb32dc24ad66609558292bd53ed otherFunctions
## 15: 536deeb32dc24ad66609558292bd53ed      preDigest
## 16: 536deeb32dc24ad66609558292bd53ed      preDigest
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:28
##  2:                                 Cache 2018-07-05 13:06:28
##  3:                               numeric 2018-07-05 13:06:28
##  4:                   2018-07-05 13:06:28 2018-07-05 13:06:28
##  5:      e37bb635c97bc2eeecab63816b881bbc 2018-07-05 13:06:28
##  6:                                     b 2018-07-05 13:06:28
##  7:                                 runif 2018-07-05 13:06:28
##  8:                                   688 2018-07-05 13:06:28
##  9:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 10:                          process_file 2018-07-05 13:06:28
## 11:                         process_group 2018-07-05 13:06:28
## 12:                   process_group.block 2018-07-05 13:06:28
## 13:                            call_block 2018-07-05 13:06:28
## 14:                            block_exec 2018-07-05 13:06:28
## 15:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:28
## 16: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-07-05 13:06:28</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">clearCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="kw">c</span>(<span class="st">&quot;runif&quot;</span>)) <span class="co"># remove only cached objects made during runif call</span></code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 20.8 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 165 bytes</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">showCache</span>(tmpDir) <span class="co"># only those made during rnorm call</span></code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 20.6 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 615 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: 8a838ce168d4dc7348cbfdf4bb7e2b55         format
##  2: 8a838ce168d4dc7348cbfdf4bb7e2b55           name
##  3: 8a838ce168d4dc7348cbfdf4bb7e2b55          class
##  4: 8a838ce168d4dc7348cbfdf4bb7e2b55           date
##  5: 8a838ce168d4dc7348cbfdf4bb7e2b55        cacheId
##  6: 8a838ce168d4dc7348cbfdf4bb7e2b55       function
##  7: 8a838ce168d4dc7348cbfdf4bb7e2b55    object.size
##  8: 8a838ce168d4dc7348cbfdf4bb7e2b55       accessed
##  9: 8a838ce168d4dc7348cbfdf4bb7e2b55 otherFunctions
## 10: 8a838ce168d4dc7348cbfdf4bb7e2b55 otherFunctions
## 11: 8a838ce168d4dc7348cbfdf4bb7e2b55 otherFunctions
## 12: 8a838ce168d4dc7348cbfdf4bb7e2b55 otherFunctions
## 13: 8a838ce168d4dc7348cbfdf4bb7e2b55 otherFunctions
## 14: 8a838ce168d4dc7348cbfdf4bb7e2b55      preDigest
## 15: 8a838ce168d4dc7348cbfdf4bb7e2b55      preDigest
## 16: 8a838ce168d4dc7348cbfdf4bb7e2b55      preDigest
## 17: 8a838ce168d4dc7348cbfdf4bb7e2b55       accessed
## 18: 8a838ce168d4dc7348cbfdf4bb7e2b55       accessed
## 19: 8a838ce168d4dc7348cbfdf4bb7e2b55       accessed
## 20: 913bea59e334d44c359c3d3ebe3640d0         format
## 21: 913bea59e334d44c359c3d3ebe3640d0           name
## 22: 913bea59e334d44c359c3d3ebe3640d0          class
## 23: 913bea59e334d44c359c3d3ebe3640d0           date
## 24: 913bea59e334d44c359c3d3ebe3640d0        cacheId
## 25: 913bea59e334d44c359c3d3ebe3640d0     objectName
## 26: 913bea59e334d44c359c3d3ebe3640d0       function
## 27: 913bea59e334d44c359c3d3ebe3640d0    object.size
## 28: 913bea59e334d44c359c3d3ebe3640d0       accessed
## 29: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 30: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 31: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 32: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 33: 913bea59e334d44c359c3d3ebe3640d0 otherFunctions
## 34: 913bea59e334d44c359c3d3ebe3640d0      preDigest
## 35: 913bea59e334d44c359c3d3ebe3640d0      preDigest
## 36: 95e92d871f680ab3982d69c09c1b2a2f         format
## 37: 95e92d871f680ab3982d69c09c1b2a2f           name
## 38: 95e92d871f680ab3982d69c09c1b2a2f          class
## 39: 95e92d871f680ab3982d69c09c1b2a2f           date
## 40: 95e92d871f680ab3982d69c09c1b2a2f        cacheId
## 41: 95e92d871f680ab3982d69c09c1b2a2f       function
## 42: 95e92d871f680ab3982d69c09c1b2a2f    object.size
## 43: 95e92d871f680ab3982d69c09c1b2a2f       accessed
## 44: 95e92d871f680ab3982d69c09c1b2a2f otherFunctions
## 45: 95e92d871f680ab3982d69c09c1b2a2f otherFunctions
## 46: 95e92d871f680ab3982d69c09c1b2a2f otherFunctions
## 47: 95e92d871f680ab3982d69c09c1b2a2f otherFunctions
## 48: 95e92d871f680ab3982d69c09c1b2a2f otherFunctions
## 49: 95e92d871f680ab3982d69c09c1b2a2f      preDigest
## 50: 95e92d871f680ab3982d69c09c1b2a2f      preDigest
## 51: 95e92d871f680ab3982d69c09c1b2a2f      preDigest
##                             artifact         tagKey
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:28
##  2:                                 Cache 2018-07-05 13:06:28
##  3:                               numeric 2018-07-05 13:06:28
##  4:                   2018-07-05 13:06:28 2018-07-05 13:06:28
##  5:      f185e4f8cea576a595f7b81be17e63b5 2018-07-05 13:06:28
##  6:                                 rnorm 2018-07-05 13:06:28
##  7:                                   784 2018-07-05 13:06:28
##  8:                   2018-07-05 13:06:28 2018-07-05 13:06:28
##  9:                          process_file 2018-07-05 13:06:28
## 10:                         process_group 2018-07-05 13:06:28
## 11:                   process_group.block 2018-07-05 13:06:28
## 12:                            call_block 2018-07-05 13:06:28
## 13:                            block_exec 2018-07-05 13:06:28
## 14:    n:52ad08b1270ae9be9c0a12805d408433 2018-07-05 13:06:28
## 15: mean:2c67b8e97ab3ea8d032fea4318223887 2018-07-05 13:06:28
## 16: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:28
## 17:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 18:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 19:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 20:                                   rda 2018-07-05 13:06:28
## 21:                                 Cache 2018-07-05 13:06:28
## 22:                               numeric 2018-07-05 13:06:28
## 23:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 24:      85874f26b2e0c1ef689a7d379d275ebf 2018-07-05 13:06:28
## 25:                                     a 2018-07-05 13:06:28
## 26:                                 rnorm 2018-07-05 13:06:28
## 27:                                   688 2018-07-05 13:06:28
## 28:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 29:                          process_file 2018-07-05 13:06:28
## 30:                         process_group 2018-07-05 13:06:28
## 31:                   process_group.block 2018-07-05 13:06:28
## 32:                            call_block 2018-07-05 13:06:28
## 33:                            block_exec 2018-07-05 13:06:28
## 34:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:28
## 35: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:28
## 36:                                   rda 2018-07-05 13:06:28
## 37:                                 Cache 2018-07-05 13:06:28
## 38:                               numeric 2018-07-05 13:06:28
## 39:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 40:      778e2e6b9a967175d1f08811a995269d 2018-07-05 13:06:28
## 41:                   rnorm pipe sequence 2018-07-05 13:06:28
## 42:                                   784 2018-07-05 13:06:28
## 43:                   2018-07-05 13:06:28 2018-07-05 13:06:28
## 44:                          process_file 2018-07-05 13:06:28
## 45:                         process_group 2018-07-05 13:06:28
## 46:                   process_group.block 2018-07-05 13:06:28
## 47:                            call_block 2018-07-05 13:06:28
## 48:                            block_exec 2018-07-05 13:06:28
## 49:    n:52ad08b1270ae9be9c0a12805d408433 2018-07-05 13:06:28
## 50: mean:6f529546a7c8cf6edda6081007b3d58d 2018-07-05 13:06:28
## 51: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:28
##                                  tagValue         createdDate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">clearCache</span>(tmpDir)</code></pre></div>
</div>
<div id="example-2-using-the-accessed-tag" class="section level2">
<h2><span class="header-section-number">1.5</span> Example 2: using the “accessed” tag</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ranNumsA &lt;-<span class="st"> </span><span class="kw">Cache</span>(rnorm, <span class="dv">4</span>, <span class="dt">cacheRepo =</span> tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;objectName:a&quot;</span>)
ranNumsB &lt;-<span class="st"> </span><span class="kw">Cache</span>(runif, <span class="dv">4</span>, <span class="dt">cacheRepo =</span> tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;objectName:b&quot;</span>)

<span class="co"># access it again, from Cache</span>
ranNumsA &lt;-<span class="st"> </span><span class="kw">Cache</span>(rnorm, <span class="dv">4</span>, <span class="dt">cacheRepo =</span> tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;objectName:a&quot;</span>)</code></pre></div>
<pre><code>##   loading cached result from previous rnorm call, adding to memoised copy</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wholeCache &lt;-<span class="st"> </span><span class="kw">showCache</span>(tmpDir)</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 335 bytes</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># keep only items accessed &quot;recently&quot; (i.e., only objectName:a)</span>
onlyRecentlyAccessed &lt;-<span class="st"> </span><span class="kw">showCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="kw">max</span>(wholeCache[tagKey <span class="op">==</span><span class="st"> &quot;accessed&quot;</span>]<span class="op">$</span>tagValue))</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 335 bytes</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># inverse join with 2 data.tables ... using: a[!b]</span>
<span class="co"># i.e., return all of wholeCache that was not recently accessed</span>
toRemove &lt;-<span class="st"> </span><span class="kw">unique</span>(wholeCache[<span class="op">!</span>onlyRecentlyAccessed], <span class="dt">by =</span> <span class="st">&quot;artifact&quot;</span>)<span class="op">$</span>artifact
<span class="kw">clearCache</span>(tmpDir, toRemove) <span class="co"># remove ones not recently accessed</span></code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 335 bytes</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">showCache</span>(tmpDir) <span class="co"># still has more recently accessed</span></code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 0 bytes</code></pre>
<pre><code>## Empty data.table (0 rows) of 3 cols: md5hash,name,createdDate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">clearCache</span>(tmpDir)</code></pre></div>
</div>
<div id="example-3-using-keepcache" class="section level2">
<h2><span class="header-section-number">1.6</span> Example 3: using keepCache</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ranNumsA &lt;-<span class="st"> </span><span class="kw">Cache</span>(rnorm, <span class="dv">4</span>, <span class="dt">cacheRepo =</span> tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;objectName:a&quot;</span>)
ranNumsB &lt;-<span class="st"> </span><span class="kw">Cache</span>(runif, <span class="dv">4</span>, <span class="dt">cacheRepo =</span> tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;objectName:b&quot;</span>)

<span class="co"># keep only those cached items from the last 24 hours</span>
oneDay &lt;-<span class="st"> </span><span class="dv">60</span> <span class="op">*</span><span class="st"> </span><span class="dv">60</span> <span class="op">*</span><span class="st"> </span><span class="dv">24</span>
<span class="kw">keepCache</span>(tmpDir, <span class="dt">after =</span> <span class="kw">Sys.time</span>() <span class="op">-</span><span class="st"> </span>oneDay)</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 338 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: 68dd4432cd40fb6fe00bdcf5ed3f4794         format
##  2: 68dd4432cd40fb6fe00bdcf5ed3f4794           name
##  3: 68dd4432cd40fb6fe00bdcf5ed3f4794          class
##  4: 68dd4432cd40fb6fe00bdcf5ed3f4794           date
##  5: 68dd4432cd40fb6fe00bdcf5ed3f4794        cacheId
##  6: 68dd4432cd40fb6fe00bdcf5ed3f4794     objectName
##  7: 68dd4432cd40fb6fe00bdcf5ed3f4794       function
##  8: 68dd4432cd40fb6fe00bdcf5ed3f4794    object.size
##  9: 68dd4432cd40fb6fe00bdcf5ed3f4794       accessed
## 10: 68dd4432cd40fb6fe00bdcf5ed3f4794 otherFunctions
## 11: 68dd4432cd40fb6fe00bdcf5ed3f4794 otherFunctions
## 12: 68dd4432cd40fb6fe00bdcf5ed3f4794 otherFunctions
## 13: 68dd4432cd40fb6fe00bdcf5ed3f4794 otherFunctions
## 14: 68dd4432cd40fb6fe00bdcf5ed3f4794 otherFunctions
## 15: 68dd4432cd40fb6fe00bdcf5ed3f4794      preDigest
## 16: 68dd4432cd40fb6fe00bdcf5ed3f4794      preDigest
## 17: a1e91bd8155ec57f0badd5cda2b40539         format
## 18: a1e91bd8155ec57f0badd5cda2b40539           name
## 19: a1e91bd8155ec57f0badd5cda2b40539          class
## 20: a1e91bd8155ec57f0badd5cda2b40539           date
## 21: a1e91bd8155ec57f0badd5cda2b40539        cacheId
## 22: a1e91bd8155ec57f0badd5cda2b40539     objectName
## 23: a1e91bd8155ec57f0badd5cda2b40539       function
## 24: a1e91bd8155ec57f0badd5cda2b40539    object.size
## 25: a1e91bd8155ec57f0badd5cda2b40539       accessed
## 26: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 27: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 28: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 29: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 30: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 31: a1e91bd8155ec57f0badd5cda2b40539      preDigest
## 32: a1e91bd8155ec57f0badd5cda2b40539      preDigest
##                             artifact         tagKey
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:29
##  2:                                 Cache 2018-07-05 13:06:29
##  3:                               numeric 2018-07-05 13:06:29
##  4:                   2018-07-05 13:06:29 2018-07-05 13:06:29
##  5:      e37bb635c97bc2eeecab63816b881bbc 2018-07-05 13:06:29
##  6:                                     b 2018-07-05 13:06:29
##  7:                                 runif 2018-07-05 13:06:29
##  8:                                   688 2018-07-05 13:06:29
##  9:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 10:                          process_file 2018-07-05 13:06:29
## 11:                         process_group 2018-07-05 13:06:29
## 12:                   process_group.block 2018-07-05 13:06:29
## 13:                            call_block 2018-07-05 13:06:29
## 14:                            block_exec 2018-07-05 13:06:29
## 15:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:29
## 16: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-07-05 13:06:29
## 17:                                   rda 2018-07-05 13:06:29
## 18:                                 Cache 2018-07-05 13:06:29
## 19:                               numeric 2018-07-05 13:06:29
## 20:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 21:      85874f26b2e0c1ef689a7d379d275ebf 2018-07-05 13:06:29
## 22:                                     a 2018-07-05 13:06:29
## 23:                                 rnorm 2018-07-05 13:06:29
## 24:                                   688 2018-07-05 13:06:29
## 25:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 26:                          process_file 2018-07-05 13:06:29
## 27:                         process_group 2018-07-05 13:06:29
## 28:                   process_group.block 2018-07-05 13:06:29
## 29:                            call_block 2018-07-05 13:06:29
## 30:                            block_exec 2018-07-05 13:06:29
## 31:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:29
## 32: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:29
##                                  tagValue         createdDate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Keep all Cache items created with an rnorm() call</span>
<span class="kw">keepCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;rnorm&quot;</span>)</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 172 bytes</code></pre>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 166 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: a1e91bd8155ec57f0badd5cda2b40539         format
##  2: a1e91bd8155ec57f0badd5cda2b40539           name
##  3: a1e91bd8155ec57f0badd5cda2b40539          class
##  4: a1e91bd8155ec57f0badd5cda2b40539           date
##  5: a1e91bd8155ec57f0badd5cda2b40539        cacheId
##  6: a1e91bd8155ec57f0badd5cda2b40539     objectName
##  7: a1e91bd8155ec57f0badd5cda2b40539       function
##  8: a1e91bd8155ec57f0badd5cda2b40539    object.size
##  9: a1e91bd8155ec57f0badd5cda2b40539       accessed
## 10: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 11: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 12: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 13: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 14: a1e91bd8155ec57f0badd5cda2b40539 otherFunctions
## 15: a1e91bd8155ec57f0badd5cda2b40539      preDigest
## 16: a1e91bd8155ec57f0badd5cda2b40539      preDigest
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:29
##  2:                                 Cache 2018-07-05 13:06:29
##  3:                               numeric 2018-07-05 13:06:29
##  4:                   2018-07-05 13:06:29 2018-07-05 13:06:29
##  5:      85874f26b2e0c1ef689a7d379d275ebf 2018-07-05 13:06:29
##  6:                                     a 2018-07-05 13:06:29
##  7:                                 rnorm 2018-07-05 13:06:29
##  8:                                   688 2018-07-05 13:06:29
##  9:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 10:                          process_file 2018-07-05 13:06:29
## 11:                         process_group 2018-07-05 13:06:29
## 12:                   process_group.block 2018-07-05 13:06:29
## 13:                            call_block 2018-07-05 13:06:29
## 14:                            block_exec 2018-07-05 13:06:29
## 15:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:29
## 16: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:29</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Remove all Cache items that happened within a rnorm() call</span>
<span class="kw">clearCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;rnorm&quot;</span>)</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.2 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 172 bytes</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">showCache</span>(tmpDir) ## empty</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 0 bytes</code></pre>
<pre><code>## Empty data.table (0 rows) of 3 cols: md5hash,name,createdDate</code></pre>
</div>
<div id="example-4-searching-for-multiple-objects-in-the-cache" class="section level2">
<h2><span class="header-section-number">1.7</span> Example 4: searching for multiple objects in the cache</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># default userTags is &quot;and&quot; matching; for &quot;or&quot; matching use |</span>
ranNumsA &lt;-<span class="st"> </span><span class="kw">Cache</span>(runif, <span class="dv">4</span>, <span class="dt">cacheRepo =</span> tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;objectName:a&quot;</span>)
ranNumsB &lt;-<span class="st"> </span><span class="kw">Cache</span>(rnorm, <span class="dv">4</span>, <span class="dt">cacheRepo =</span> tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;objectName:b&quot;</span>)

<span class="co"># show all objects (runif and rnorm in this case)</span>
<span class="kw">showCache</span>(tmpDir)</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 337 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: f6cdb1c02db9a1b4cd723499f28e129e         format
##  2: f6cdb1c02db9a1b4cd723499f28e129e           name
##  3: f6cdb1c02db9a1b4cd723499f28e129e          class
##  4: f6cdb1c02db9a1b4cd723499f28e129e           date
##  5: f6cdb1c02db9a1b4cd723499f28e129e        cacheId
##  6: f6cdb1c02db9a1b4cd723499f28e129e     objectName
##  7: f6cdb1c02db9a1b4cd723499f28e129e       function
##  8: f6cdb1c02db9a1b4cd723499f28e129e    object.size
##  9: f6cdb1c02db9a1b4cd723499f28e129e       accessed
## 10: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 11: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 12: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 13: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 14: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 15: f6cdb1c02db9a1b4cd723499f28e129e      preDigest
## 16: f6cdb1c02db9a1b4cd723499f28e129e      preDigest
## 17: f90d7c5abe6ca13b1d79cdcb3bb2f6f3         format
## 18: f90d7c5abe6ca13b1d79cdcb3bb2f6f3           name
## 19: f90d7c5abe6ca13b1d79cdcb3bb2f6f3          class
## 20: f90d7c5abe6ca13b1d79cdcb3bb2f6f3           date
## 21: f90d7c5abe6ca13b1d79cdcb3bb2f6f3        cacheId
## 22: f90d7c5abe6ca13b1d79cdcb3bb2f6f3     objectName
## 23: f90d7c5abe6ca13b1d79cdcb3bb2f6f3       function
## 24: f90d7c5abe6ca13b1d79cdcb3bb2f6f3    object.size
## 25: f90d7c5abe6ca13b1d79cdcb3bb2f6f3       accessed
## 26: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 27: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 28: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 29: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 30: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 31: f90d7c5abe6ca13b1d79cdcb3bb2f6f3      preDigest
## 32: f90d7c5abe6ca13b1d79cdcb3bb2f6f3      preDigest
##                             artifact         tagKey
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:29
##  2:                                 Cache 2018-07-05 13:06:29
##  3:                               numeric 2018-07-05 13:06:29
##  4:                   2018-07-05 13:06:29 2018-07-05 13:06:29
##  5:      85874f26b2e0c1ef689a7d379d275ebf 2018-07-05 13:06:29
##  6:                                     b 2018-07-05 13:06:29
##  7:                                 rnorm 2018-07-05 13:06:29
##  8:                                   688 2018-07-05 13:06:29
##  9:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 10:                          process_file 2018-07-05 13:06:29
## 11:                         process_group 2018-07-05 13:06:29
## 12:                   process_group.block 2018-07-05 13:06:29
## 13:                            call_block 2018-07-05 13:06:29
## 14:                            block_exec 2018-07-05 13:06:29
## 15:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:29
## 16: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:29
## 17:                                   rda 2018-07-05 13:06:29
## 18:                                 Cache 2018-07-05 13:06:29
## 19:                               numeric 2018-07-05 13:06:29
## 20:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 21:      e37bb635c97bc2eeecab63816b881bbc 2018-07-05 13:06:29
## 22:                                     a 2018-07-05 13:06:29
## 23:                                 runif 2018-07-05 13:06:29
## 24:                                   688 2018-07-05 13:06:29
## 25:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 26:                          process_file 2018-07-05 13:06:29
## 27:                         process_group 2018-07-05 13:06:29
## 28:                   process_group.block 2018-07-05 13:06:29
## 29:                            call_block 2018-07-05 13:06:29
## 30:                            block_exec 2018-07-05 13:06:29
## 31:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:29
## 32: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-07-05 13:06:29
##                                  tagValue         createdDate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># show objects that are both runif and rnorm</span>
<span class="co"># (i.e., none in this case, because objecs are either or, not both)</span>
<span class="kw">showCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="kw">c</span>(<span class="st">&quot;runif&quot;</span>, <span class="st">&quot;rnorm&quot;</span>)) ## empty</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 0 bytes</code></pre>
<pre><code>## Empty data.table (0 rows) of 4 cols: artifact,tagKey,tagValue,createdDate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># show objects that are either runif or rnorm (&quot;or&quot; search)</span>
<span class="kw">showCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;runif|rnorm&quot;</span>)</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 337 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: f6cdb1c02db9a1b4cd723499f28e129e         format
##  2: f6cdb1c02db9a1b4cd723499f28e129e           name
##  3: f6cdb1c02db9a1b4cd723499f28e129e          class
##  4: f6cdb1c02db9a1b4cd723499f28e129e           date
##  5: f6cdb1c02db9a1b4cd723499f28e129e        cacheId
##  6: f6cdb1c02db9a1b4cd723499f28e129e     objectName
##  7: f6cdb1c02db9a1b4cd723499f28e129e       function
##  8: f6cdb1c02db9a1b4cd723499f28e129e    object.size
##  9: f6cdb1c02db9a1b4cd723499f28e129e       accessed
## 10: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 11: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 12: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 13: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 14: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 15: f6cdb1c02db9a1b4cd723499f28e129e      preDigest
## 16: f6cdb1c02db9a1b4cd723499f28e129e      preDigest
## 17: f90d7c5abe6ca13b1d79cdcb3bb2f6f3         format
## 18: f90d7c5abe6ca13b1d79cdcb3bb2f6f3           name
## 19: f90d7c5abe6ca13b1d79cdcb3bb2f6f3          class
## 20: f90d7c5abe6ca13b1d79cdcb3bb2f6f3           date
## 21: f90d7c5abe6ca13b1d79cdcb3bb2f6f3        cacheId
## 22: f90d7c5abe6ca13b1d79cdcb3bb2f6f3     objectName
## 23: f90d7c5abe6ca13b1d79cdcb3bb2f6f3       function
## 24: f90d7c5abe6ca13b1d79cdcb3bb2f6f3    object.size
## 25: f90d7c5abe6ca13b1d79cdcb3bb2f6f3       accessed
## 26: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 27: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 28: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 29: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 30: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 31: f90d7c5abe6ca13b1d79cdcb3bb2f6f3      preDigest
## 32: f90d7c5abe6ca13b1d79cdcb3bb2f6f3      preDigest
##                             artifact         tagKey
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:29
##  2:                                 Cache 2018-07-05 13:06:29
##  3:                               numeric 2018-07-05 13:06:29
##  4:                   2018-07-05 13:06:29 2018-07-05 13:06:29
##  5:      85874f26b2e0c1ef689a7d379d275ebf 2018-07-05 13:06:29
##  6:                                     b 2018-07-05 13:06:29
##  7:                                 rnorm 2018-07-05 13:06:29
##  8:                                   688 2018-07-05 13:06:29
##  9:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 10:                          process_file 2018-07-05 13:06:29
## 11:                         process_group 2018-07-05 13:06:29
## 12:                   process_group.block 2018-07-05 13:06:29
## 13:                            call_block 2018-07-05 13:06:29
## 14:                            block_exec 2018-07-05 13:06:29
## 15:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:29
## 16: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:29
## 17:                                   rda 2018-07-05 13:06:29
## 18:                                 Cache 2018-07-05 13:06:29
## 19:                               numeric 2018-07-05 13:06:29
## 20:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 21:      e37bb635c97bc2eeecab63816b881bbc 2018-07-05 13:06:29
## 22:                                     a 2018-07-05 13:06:29
## 23:                                 runif 2018-07-05 13:06:29
## 24:                                   688 2018-07-05 13:06:29
## 25:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 26:                          process_file 2018-07-05 13:06:29
## 27:                         process_group 2018-07-05 13:06:29
## 28:                   process_group.block 2018-07-05 13:06:29
## 29:                            call_block 2018-07-05 13:06:29
## 30:                            block_exec 2018-07-05 13:06:29
## 31:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:29
## 32: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-07-05 13:06:29
##                                  tagValue         createdDate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># keep only objects that are either runif or rnorm (&quot;or&quot; search)</span>
<span class="kw">keepCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;runif|rnorm&quot;</span>)</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 337 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: f6cdb1c02db9a1b4cd723499f28e129e         format
##  2: f6cdb1c02db9a1b4cd723499f28e129e           name
##  3: f6cdb1c02db9a1b4cd723499f28e129e          class
##  4: f6cdb1c02db9a1b4cd723499f28e129e           date
##  5: f6cdb1c02db9a1b4cd723499f28e129e        cacheId
##  6: f6cdb1c02db9a1b4cd723499f28e129e     objectName
##  7: f6cdb1c02db9a1b4cd723499f28e129e       function
##  8: f6cdb1c02db9a1b4cd723499f28e129e    object.size
##  9: f6cdb1c02db9a1b4cd723499f28e129e       accessed
## 10: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 11: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 12: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 13: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 14: f6cdb1c02db9a1b4cd723499f28e129e otherFunctions
## 15: f6cdb1c02db9a1b4cd723499f28e129e      preDigest
## 16: f6cdb1c02db9a1b4cd723499f28e129e      preDigest
## 17: f90d7c5abe6ca13b1d79cdcb3bb2f6f3         format
## 18: f90d7c5abe6ca13b1d79cdcb3bb2f6f3           name
## 19: f90d7c5abe6ca13b1d79cdcb3bb2f6f3          class
## 20: f90d7c5abe6ca13b1d79cdcb3bb2f6f3           date
## 21: f90d7c5abe6ca13b1d79cdcb3bb2f6f3        cacheId
## 22: f90d7c5abe6ca13b1d79cdcb3bb2f6f3     objectName
## 23: f90d7c5abe6ca13b1d79cdcb3bb2f6f3       function
## 24: f90d7c5abe6ca13b1d79cdcb3bb2f6f3    object.size
## 25: f90d7c5abe6ca13b1d79cdcb3bb2f6f3       accessed
## 26: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 27: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 28: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 29: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 30: f90d7c5abe6ca13b1d79cdcb3bb2f6f3 otherFunctions
## 31: f90d7c5abe6ca13b1d79cdcb3bb2f6f3      preDigest
## 32: f90d7c5abe6ca13b1d79cdcb3bb2f6f3      preDigest
##                             artifact         tagKey
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:29
##  2:                                 Cache 2018-07-05 13:06:29
##  3:                               numeric 2018-07-05 13:06:29
##  4:                   2018-07-05 13:06:29 2018-07-05 13:06:29
##  5:      85874f26b2e0c1ef689a7d379d275ebf 2018-07-05 13:06:29
##  6:                                     b 2018-07-05 13:06:29
##  7:                                 rnorm 2018-07-05 13:06:29
##  8:                                   688 2018-07-05 13:06:29
##  9:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 10:                          process_file 2018-07-05 13:06:29
## 11:                         process_group 2018-07-05 13:06:29
## 12:                   process_group.block 2018-07-05 13:06:29
## 13:                            call_block 2018-07-05 13:06:29
## 14:                            block_exec 2018-07-05 13:06:29
## 15:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:29
## 16: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:29
## 17:                                   rda 2018-07-05 13:06:29
## 18:                                 Cache 2018-07-05 13:06:29
## 19:                               numeric 2018-07-05 13:06:29
## 20:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 21:      e37bb635c97bc2eeecab63816b881bbc 2018-07-05 13:06:29
## 22:                                     a 2018-07-05 13:06:29
## 23:                                 runif 2018-07-05 13:06:29
## 24:                                   688 2018-07-05 13:06:29
## 25:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 26:                          process_file 2018-07-05 13:06:29
## 27:                         process_group 2018-07-05 13:06:29
## 28:                   process_group.block 2018-07-05 13:06:29
## 29:                            call_block 2018-07-05 13:06:29
## 30:                            block_exec 2018-07-05 13:06:29
## 31:    n:969a49ec15bcd4323ff31538af321264 2018-07-05 13:06:29
## 32: .FUN:d2631d24c3b38b89c7bdd4ab7faaaac3 2018-07-05 13:06:29
##                                  tagValue         createdDate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">clearCache</span>(tmpDir)</code></pre></div>
</div>
<div id="example-5-using-caching-to-speed-up-rerunning-expensive-computations" class="section level2">
<h2><span class="header-section-number">1.8</span> Example 5: using caching to speed up rerunning expensive computations</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ras &lt;-<span class="st"> </span><span class="kw">raster</span>(<span class="kw">extent</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">5</span>), <span class="dt">res =</span> <span class="dv">1</span>,
              <span class="dt">vals =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">size =</span> <span class="dv">25</span>),
              <span class="dt">crs =</span> <span class="st">&quot;+proj=lcc +lat_1=48 +lat_2=33 +lon_0=-100 +ellps=WGS84&quot;</span>)

<span class="co"># A slow operation, like GIS operation</span>
notCached &lt;-<span class="st"> </span><span class="kw">suppressWarnings</span>(
  <span class="co"># project raster generates warnings when run non-interactively</span>
  <span class="kw">projectRaster</span>(ras, <span class="dt">crs =</span> <span class="kw">crs</span>(ras), <span class="dt">res =</span> <span class="dv">5</span>, <span class="dt">cacheRepo =</span> tmpDir)
)

cached &lt;-<span class="st"> </span><span class="kw">suppressWarnings</span>(
  <span class="co"># project raster generates warnings when run non-interactively</span>
  <span class="co"># using quote works also</span>
  <span class="kw">Cache</span>(projectRaster, ras, <span class="dt">crs =</span> <span class="kw">crs</span>(ras), <span class="dt">res =</span> <span class="dv">5</span>, <span class="dt">cacheRepo =</span> tmpDir)
)

<span class="co"># second time is much faster</span>
reRun &lt;-<span class="st"> </span><span class="kw">suppressWarnings</span>(
  <span class="co"># project raster generates warnings when run non-interactively</span>
  <span class="kw">Cache</span>(projectRaster, ras, <span class="dt">crs =</span> <span class="kw">crs</span>(ras), <span class="dt">res =</span> <span class="dv">5</span>, <span class="dt">cacheRepo =</span> tmpDir)
)</code></pre></div>
<pre><code>##   loading cached result from previous projectRaster call, adding to memoised copy</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># recovered cached version is same as non-cached version</span>
<span class="kw">all.equal</span>(notCached, reRun) ## TRUE</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="nested-caching" class="section level2">
<h2><span class="header-section-number">1.9</span> Nested Caching</h2>
<p>Nested caching, which is when Caching of a function occurs inside an outer function, which is itself cached. This is a critical element to working within a reproducible work flow. It is not enough during development to cache flat code chunks, as there will be many levels of “slow” functions. Ideally, at all points in a development cycle, it should be possible to get to any line of code starting from the very initial steps, running through everything up to that point, in less that 1 second. If the workflow can be kept very fast like this, then there is a guarantee that it will work at any point.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##########################
## Nested Caching
<span class="co"># Make 2 functions</span>
inner &lt;-<span class="st"> </span><span class="cf">function</span>(mean) {
  d &lt;-<span class="st"> </span><span class="dv">1</span>
  <span class="kw">Cache</span>(rnorm, <span class="dt">n =</span> <span class="dv">3</span>, <span class="dt">mean =</span> mean)
}
outer &lt;-<span class="st"> </span><span class="cf">function</span>(n) {
  <span class="kw">Cache</span>(inner, <span class="fl">0.1</span>, <span class="dt">cacheRepo =</span> tmpdir2)
}

<span class="co"># make 2 different cache paths</span>
tmpdir1 &lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">&quot;first&quot;</span>)
tmpdir2 &lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">&quot;second&quot;</span>)

<span class="co"># Run the Cache ... notOlderThan propagates to all 3 Cache calls,</span>
<span class="co">#   but cacheRepo is tmpdir1 in top level Cache and all nested</span>
<span class="co">#   Cache calls, unless individually overridden ... here inner</span>
<span class="co">#   uses tmpdir2 repository</span>
<span class="kw">Cache</span>(outer, <span class="dt">n =</span> <span class="dv">2</span>, <span class="dt">cacheRepo =</span> tmpdir1, <span class="dt">notOlderThan =</span> <span class="kw">Sys.time</span>())</code></pre></div>
<pre><code>## [1]  0.6137814 -0.9392360 -0.2488563
## attr(,&quot;tags&quot;)
## [1] &quot;cacheId:e09bf93970f9e94d5c639cfa8ca722f0&quot;
## attr(,&quot;newCache&quot;)
## [1] TRUE
## attr(,&quot;call&quot;)
## [1] &quot;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">showCache</span>(tmpdir1) <span class="co"># 2 function calls</span></code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.3 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 327 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: 281fd7d8498dcc7660b6dc7ca7952697         format
##  2: 281fd7d8498dcc7660b6dc7ca7952697           name
##  3: 281fd7d8498dcc7660b6dc7ca7952697          class
##  4: 281fd7d8498dcc7660b6dc7ca7952697           date
##  5: 281fd7d8498dcc7660b6dc7ca7952697        cacheId
##  6: 281fd7d8498dcc7660b6dc7ca7952697       function
##  7: 281fd7d8498dcc7660b6dc7ca7952697    object.size
##  8: 281fd7d8498dcc7660b6dc7ca7952697       accessed
##  9: 281fd7d8498dcc7660b6dc7ca7952697 otherFunctions
## 10: 281fd7d8498dcc7660b6dc7ca7952697 otherFunctions
## 11: 281fd7d8498dcc7660b6dc7ca7952697 otherFunctions
## 12: 281fd7d8498dcc7660b6dc7ca7952697 otherFunctions
## 13: 281fd7d8498dcc7660b6dc7ca7952697 otherFunctions
## 14: 281fd7d8498dcc7660b6dc7ca7952697      preDigest
## 15: 281fd7d8498dcc7660b6dc7ca7952697      preDigest
## 16: e3e1319b7b674a02605d1ed3470b7777         format
## 17: e3e1319b7b674a02605d1ed3470b7777           name
## 18: e3e1319b7b674a02605d1ed3470b7777          class
## 19: e3e1319b7b674a02605d1ed3470b7777           date
## 20: e3e1319b7b674a02605d1ed3470b7777        cacheId
## 21: e3e1319b7b674a02605d1ed3470b7777       function
## 22: e3e1319b7b674a02605d1ed3470b7777    object.size
## 23: e3e1319b7b674a02605d1ed3470b7777       accessed
## 24: e3e1319b7b674a02605d1ed3470b7777 otherFunctions
## 25: e3e1319b7b674a02605d1ed3470b7777 otherFunctions
## 26: e3e1319b7b674a02605d1ed3470b7777 otherFunctions
## 27: e3e1319b7b674a02605d1ed3470b7777 otherFunctions
## 28: e3e1319b7b674a02605d1ed3470b7777 otherFunctions
## 29: e3e1319b7b674a02605d1ed3470b7777 otherFunctions
## 30: e3e1319b7b674a02605d1ed3470b7777      preDigest
## 31: e3e1319b7b674a02605d1ed3470b7777      preDigest
## 32: e3e1319b7b674a02605d1ed3470b7777      preDigest
##                             artifact         tagKey
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:30
##  2:                                 Cache 2018-07-05 13:06:30
##  3:                               numeric 2018-07-05 13:06:30
##  4:                   2018-07-05 13:06:30 2018-07-05 13:06:30
##  5:      e09bf93970f9e94d5c639cfa8ca722f0 2018-07-05 13:06:30
##  6:                                 outer 2018-07-05 13:06:30
##  7:                                   688 2018-07-05 13:06:30
##  8:                   2018-07-05 13:06:30 2018-07-05 13:06:30
##  9:                          process_file 2018-07-05 13:06:30
## 10:                         process_group 2018-07-05 13:06:30
## 11:                   process_group.block 2018-07-05 13:06:30
## 12:                            call_block 2018-07-05 13:06:30
## 13:                            block_exec 2018-07-05 13:06:30
## 14:    n:8128a6180a705341ab7c05cfa945edfb 2018-07-05 13:06:30
## 15: .FUN:b5f6bcbdd9f23e39c2c5d4020e73a6ff 2018-07-05 13:06:30
## 16:                                   rda 2018-07-05 13:06:29
## 17:                                 Cache 2018-07-05 13:06:29
## 18:                               numeric 2018-07-05 13:06:29
## 19:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 20:      cec73d63ad3864af8bcd7efc5fae864d 2018-07-05 13:06:29
## 21:                                 rnorm 2018-07-05 13:06:29
## 22:                                   688 2018-07-05 13:06:29
## 23:                   2018-07-05 13:06:29 2018-07-05 13:06:29
## 24:                          process_file 2018-07-05 13:06:29
## 25:                         process_group 2018-07-05 13:06:29
## 26:                   process_group.block 2018-07-05 13:06:29
## 27:                            call_block 2018-07-05 13:06:29
## 28:                            block_exec 2018-07-05 13:06:29
## 29:                               do.call 2018-07-05 13:06:29
## 30:    n:4ae3e6b6364de42fdc243469d73448cc 2018-07-05 13:06:29
## 31: mean:c28b87a0be6a99966bdaa5e556974b43 2018-07-05 13:06:29
## 32: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:29
##                                  tagValue         createdDate</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">showCache</span>(tmpdir2) <span class="co"># 1 function call</span></code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.2 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 164 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: 2509f70139c736598671529e31cada0b         format
##  2: 2509f70139c736598671529e31cada0b           name
##  3: 2509f70139c736598671529e31cada0b          class
##  4: 2509f70139c736598671529e31cada0b           date
##  5: 2509f70139c736598671529e31cada0b        cacheId
##  6: 2509f70139c736598671529e31cada0b       function
##  7: 2509f70139c736598671529e31cada0b    object.size
##  8: 2509f70139c736598671529e31cada0b       accessed
##  9: 2509f70139c736598671529e31cada0b otherFunctions
## 10: 2509f70139c736598671529e31cada0b otherFunctions
## 11: 2509f70139c736598671529e31cada0b otherFunctions
## 12: 2509f70139c736598671529e31cada0b otherFunctions
## 13: 2509f70139c736598671529e31cada0b otherFunctions
## 14: 2509f70139c736598671529e31cada0b otherFunctions
## 15: 2509f70139c736598671529e31cada0b      preDigest
## 16: 2509f70139c736598671529e31cada0b      preDigest
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:29
##  2:                                 Cache 2018-07-05 13:06:29
##  3:                               numeric 2018-07-05 13:06:29
##  4:                   2018-07-05 13:06:29 2018-07-05 13:06:29
##  5:      19b808ac6871e0184e63c421a116cb61 2018-07-05 13:06:29
##  6:                                 inner 2018-07-05 13:06:29
##  7:                                   688 2018-07-05 13:06:29
##  8:                   2018-07-05 13:06:29 2018-07-05 13:06:29
##  9:                          process_file 2018-07-05 13:06:29
## 10:                         process_group 2018-07-05 13:06:29
## 11:                   process_group.block 2018-07-05 13:06:29
## 12:                            call_block 2018-07-05 13:06:29
## 13:                            block_exec 2018-07-05 13:06:29
## 14:                               do.call 2018-07-05 13:06:29
## 15: mean:c28b87a0be6a99966bdaa5e556974b43 2018-07-05 13:06:30
## 16: .FUN:56a1302d7ef43383766d7af6ca072c4e 2018-07-05 13:06:30</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># userTags get appended</span>
<span class="co"># all items have the outer tag propagate, plus inner ones only have inner ones</span>
<span class="kw">clearCache</span>(tmpdir1)
outerTag &lt;-<span class="st"> &quot;outerTag&quot;</span>
innerTag &lt;-<span class="st"> &quot;innerTag&quot;</span>
inner &lt;-<span class="st"> </span><span class="cf">function</span>(mean) {
  d &lt;-<span class="st"> </span><span class="dv">1</span>
  <span class="kw">Cache</span>(rnorm, <span class="dt">n =</span> <span class="dv">3</span>, <span class="dt">mean =</span> mean, <span class="dt">notOlderThan =</span> <span class="kw">Sys.time</span>() <span class="op">-</span><span class="st"> </span><span class="fl">1e5</span>, <span class="dt">userTags =</span> innerTag)
}
outer &lt;-<span class="st"> </span><span class="cf">function</span>(n) {
  <span class="kw">Cache</span>(inner, <span class="fl">0.1</span>)
}
aa &lt;-<span class="st"> </span><span class="kw">Cache</span>(outer, <span class="dt">n =</span> <span class="dv">2</span>, <span class="dt">cacheRepo =</span> tmpdir1, <span class="dt">userTags =</span> outerTag)
<span class="kw">showCache</span>(tmpdir1) <span class="co"># rnorm function has outerTag and innerTag, inner and outer only have outerTag</span></code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 20.5 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 491 bytes</code></pre>
<pre><code>##                             artifact         tagKey
##  1: 53b155cdd05dd4c8c0c12fd1ac6f3817         format
##  2: 53b155cdd05dd4c8c0c12fd1ac6f3817           name
##  3: 53b155cdd05dd4c8c0c12fd1ac6f3817          class
##  4: 53b155cdd05dd4c8c0c12fd1ac6f3817           date
##  5: 53b155cdd05dd4c8c0c12fd1ac6f3817        cacheId
##  6: 53b155cdd05dd4c8c0c12fd1ac6f3817       outerTag
##  7: 53b155cdd05dd4c8c0c12fd1ac6f3817       function
##  8: 53b155cdd05dd4c8c0c12fd1ac6f3817    object.size
##  9: 53b155cdd05dd4c8c0c12fd1ac6f3817       accessed
## 10: 53b155cdd05dd4c8c0c12fd1ac6f3817 otherFunctions
## 11: 53b155cdd05dd4c8c0c12fd1ac6f3817 otherFunctions
## 12: 53b155cdd05dd4c8c0c12fd1ac6f3817 otherFunctions
## 13: 53b155cdd05dd4c8c0c12fd1ac6f3817 otherFunctions
## 14: 53b155cdd05dd4c8c0c12fd1ac6f3817 otherFunctions
## 15: 53b155cdd05dd4c8c0c12fd1ac6f3817 otherFunctions
## 16: 53b155cdd05dd4c8c0c12fd1ac6f3817      preDigest
## 17: 53b155cdd05dd4c8c0c12fd1ac6f3817      preDigest
## 18: d90eb10412dca4fe6f7ca34189baebe8         format
## 19: d90eb10412dca4fe6f7ca34189baebe8           name
## 20: d90eb10412dca4fe6f7ca34189baebe8          class
## 21: d90eb10412dca4fe6f7ca34189baebe8           date
## 22: d90eb10412dca4fe6f7ca34189baebe8        cacheId
## 23: d90eb10412dca4fe6f7ca34189baebe8       innerTag
## 24: d90eb10412dca4fe6f7ca34189baebe8       outerTag
## 25: d90eb10412dca4fe6f7ca34189baebe8       function
## 26: d90eb10412dca4fe6f7ca34189baebe8    object.size
## 27: d90eb10412dca4fe6f7ca34189baebe8       accessed
## 28: d90eb10412dca4fe6f7ca34189baebe8 otherFunctions
## 29: d90eb10412dca4fe6f7ca34189baebe8 otherFunctions
## 30: d90eb10412dca4fe6f7ca34189baebe8 otherFunctions
## 31: d90eb10412dca4fe6f7ca34189baebe8 otherFunctions
## 32: d90eb10412dca4fe6f7ca34189baebe8 otherFunctions
## 33: d90eb10412dca4fe6f7ca34189baebe8 otherFunctions
## 34: d90eb10412dca4fe6f7ca34189baebe8      preDigest
## 35: d90eb10412dca4fe6f7ca34189baebe8      preDigest
## 36: d90eb10412dca4fe6f7ca34189baebe8      preDigest
## 37: fe0e9711a58929b306091afc4cc17a9a         format
## 38: fe0e9711a58929b306091afc4cc17a9a           name
## 39: fe0e9711a58929b306091afc4cc17a9a          class
## 40: fe0e9711a58929b306091afc4cc17a9a           date
## 41: fe0e9711a58929b306091afc4cc17a9a        cacheId
## 42: fe0e9711a58929b306091afc4cc17a9a       outerTag
## 43: fe0e9711a58929b306091afc4cc17a9a       function
## 44: fe0e9711a58929b306091afc4cc17a9a    object.size
## 45: fe0e9711a58929b306091afc4cc17a9a       accessed
## 46: fe0e9711a58929b306091afc4cc17a9a otherFunctions
## 47: fe0e9711a58929b306091afc4cc17a9a otherFunctions
## 48: fe0e9711a58929b306091afc4cc17a9a otherFunctions
## 49: fe0e9711a58929b306091afc4cc17a9a otherFunctions
## 50: fe0e9711a58929b306091afc4cc17a9a otherFunctions
## 51: fe0e9711a58929b306091afc4cc17a9a      preDigest
## 52: fe0e9711a58929b306091afc4cc17a9a      preDigest
##                             artifact         tagKey
##                                  tagValue         createdDate
##  1:                                   rda 2018-07-05 13:06:30
##  2:                                 Cache 2018-07-05 13:06:30
##  3:                               numeric 2018-07-05 13:06:30
##  4:                   2018-07-05 13:06:30 2018-07-05 13:06:30
##  5:      994d1330fbd961f795ab0dc508271963 2018-07-05 13:06:30
##  6:                              outerTag 2018-07-05 13:06:30
##  7:                                 inner 2018-07-05 13:06:30
##  8:                                   688 2018-07-05 13:06:30
##  9:                   2018-07-05 13:06:30 2018-07-05 13:06:30
## 10:                          process_file 2018-07-05 13:06:30
## 11:                         process_group 2018-07-05 13:06:30
## 12:                   process_group.block 2018-07-05 13:06:30
## 13:                            call_block 2018-07-05 13:06:30
## 14:                            block_exec 2018-07-05 13:06:30
## 15:                               do.call 2018-07-05 13:06:30
## 16: mean:c28b87a0be6a99966bdaa5e556974b43 2018-07-05 13:06:30
## 17: .FUN:b910401646b09073940de757678db03d 2018-07-05 13:06:30
## 18:                                   rda 2018-07-05 13:06:30
## 19:                                 Cache 2018-07-05 13:06:30
## 20:                               numeric 2018-07-05 13:06:30
## 21:                   2018-07-05 13:06:30 2018-07-05 13:06:30
## 22:      cec73d63ad3864af8bcd7efc5fae864d 2018-07-05 13:06:30
## 23:                              innerTag 2018-07-05 13:06:30
## 24:                              outerTag 2018-07-05 13:06:30
## 25:                                 rnorm 2018-07-05 13:06:30
## 26:                                   688 2018-07-05 13:06:30
## 27:                   2018-07-05 13:06:30 2018-07-05 13:06:30
## 28:                          process_file 2018-07-05 13:06:30
## 29:                         process_group 2018-07-05 13:06:30
## 30:                   process_group.block 2018-07-05 13:06:30
## 31:                            call_block 2018-07-05 13:06:30
## 32:                            block_exec 2018-07-05 13:06:30
## 33:                               do.call 2018-07-05 13:06:30
## 34:    n:4ae3e6b6364de42fdc243469d73448cc 2018-07-05 13:06:30
## 35: mean:c28b87a0be6a99966bdaa5e556974b43 2018-07-05 13:06:30
## 36: .FUN:7e9a928f110f80b3612e71883a6ec1f4 2018-07-05 13:06:30
## 37:                                   rda 2018-07-05 13:06:30
## 38:                                 Cache 2018-07-05 13:06:30
## 39:                               numeric 2018-07-05 13:06:30
## 40:                   2018-07-05 13:06:30 2018-07-05 13:06:30
## 41:      44f57deb36c53cd9c395e04c51fea77a 2018-07-05 13:06:30
## 42:                              outerTag 2018-07-05 13:06:30
## 43:                                 outer 2018-07-05 13:06:30
## 44:                                   688 2018-07-05 13:06:30
## 45:                   2018-07-05 13:06:30 2018-07-05 13:06:30
## 46:                          process_file 2018-07-05 13:06:30
## 47:                         process_group 2018-07-05 13:06:30
## 48:                   process_group.block 2018-07-05 13:06:30
## 49:                            call_block 2018-07-05 13:06:30
## 50:                            block_exec 2018-07-05 13:06:30
## 51:    n:8128a6180a705341ab7c05cfa945edfb 2018-07-05 13:06:30
## 52: .FUN:62302feda89e19149a56ca40fde725e1 2018-07-05 13:06:30
##                                  tagValue         createdDate</code></pre>
</div>
<div id="cacheid" class="section level2">
<h2><span class="header-section-number">1.10</span> cacheId</h2>
<p>Sometimes, it is not absolutely desirable to maintain the work flow intact because changes that are irrelevant to the analysis, such as changing messages sent to a user, may be changed, without a desire to rerun functions. The <code>cacheId</code> argument is for this. Once a piece of code is run, then the <code>cacheId</code> can be manually extracted (it is reported at the end of a Cache call) and manually placed in the code, passed in as, say, <code>cacheId = &quot;ad184ce64541972b50afd8e7b75f821b&quot;</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">### cacheId
<span class="kw">set.seed</span>(<span class="dv">1</span>)
<span class="kw">Cache</span>(rnorm, <span class="dv">1</span>, <span class="dt">cacheRepo =</span> tmpdir1)</code></pre></div>
<pre><code>## [1] -0.6264538
## attr(,&quot;tags&quot;)
## [1] &quot;cacheId:23dc247384c1b270f0d36de4bca1b138&quot;
## attr(,&quot;newCache&quot;)
## [1] TRUE
## attr(,&quot;call&quot;)
## [1] &quot;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># manually look at output attribute which shows cacheId: ad184ce64541972b50afd8e7b75f821b</span>
<span class="kw">Cache</span>(rnorm, <span class="dv">1</span>, <span class="dt">cacheRepo =</span> tmpdir1, <span class="dt">cacheId =</span> <span class="st">&quot;ad184ce64541972b50afd8e7b75f821b&quot;</span>) <span class="co"># same value</span></code></pre></div>
<pre><code>## cacheId is not same as calculated hash. Manually searching for cacheId:ad184ce64541972b50afd8e7b75f821b</code></pre>
<pre><code>## [1] 0.1836433
## attr(,&quot;tags&quot;)
## [1] &quot;cacheId:ad184ce64541972b50afd8e7b75f821b&quot;
## attr(,&quot;newCache&quot;)
## [1] TRUE
## attr(,&quot;call&quot;)
## [1] &quot;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># override even with different inputs:</span>
<span class="kw">Cache</span>(rnorm, <span class="dv">2</span>, <span class="dt">cacheRepo =</span> tmpdir1, <span class="dt">cacheId =</span> <span class="st">&quot;ad184ce64541972b50afd8e7b75f821b&quot;</span>)</code></pre></div>
<pre><code>## cacheId is not same as calculated hash. Manually searching for cacheId:ad184ce64541972b50afd8e7b75f821b</code></pre>
<pre><code>##   loading cached result from previous rnorm call, adding to memoised copy</code></pre>
<pre><code>## [1] 0.1836433
## attr(,&quot;tags&quot;)
## [1] &quot;cacheId:ad184ce64541972b50afd8e7b75f821b&quot;
## attr(,&quot;newCache&quot;)
## [1] FALSE
## attr(,&quot;call&quot;)
## [1] &quot;&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## cleanup
<span class="kw">unlink</span>(<span class="kw">c</span>(<span class="st">&quot;filename.rda&quot;</span>, <span class="st">&quot;filename1.rda&quot;</span>))</code></pre></div>
</div>
<div id="working-with-the-cache-manually" class="section level2">
<h2><span class="header-section-number">1.11</span> Working with the Cache manually</h2>
<p>Since the cache is simply an <code>archivist</code> repository, all <code>archivist</code> functions will work as is. In addition, there are several helpers in the <code>reproducible</code> package, including <code>showCache</code>, <code>keepCache</code> and <code>clearCache</code> that may be useful. Also, one can access cached items manually (rather than simply rerunning the same <code>Cache</code> function again).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (<span class="kw">requireNamespace</span>(<span class="st">&quot;archivist&quot;</span>)) {
  <span class="co"># get the RasterLayer that was produced with the gaussMap function:</span>
  mapHash &lt;-<span class="st"> </span><span class="kw">unique</span>(<span class="kw">showCache</span>(tmpDir, <span class="dt">userTags =</span> <span class="st">&quot;projectRaster&quot;</span>)<span class="op">$</span>artifact)
  map &lt;-<span class="st"> </span>archivist<span class="op">::</span><span class="kw">loadFromLocalRepo</span>(<span class="dt">md5hash =</span> mapHash[<span class="dv">1</span>], <span class="dt">repoDir =</span> tmpDir, <span class="dt">value =</span> <span class="ot">TRUE</span>)
  
  <span class="kw">plot</span>(map)
}</code></pre></div>
<pre><code>## Cache size:</code></pre>
<pre><code>##   Total (including Rasters): 12.8 Kb</code></pre>
<pre><code>##   Selected objects (not including Rasters): 800 bytes</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## cleanup
<span class="kw">unlink</span>(<span class="kw">dirname</span>(tmpDir), <span class="dt">recursive =</span> <span class="ot">TRUE</span>)</code></pre></div>
</div>
</div>
<div id="reproducible-workflow-1" class="section level1">
<h1><span class="header-section-number">2</span> Reproducible Workflow</h1>
<p>In general, we feel that a liberal use of <code>Cache</code> will make a re-usable and reproducible work flow. <code>shiny</code> apps can be made, taking advantage of <code>Cache</code>. Indeed, much of the difficulty in managing data sets and saving them for future use, can be accommodated by caching.</p>
<div id="nested-caching-1" class="section level2">
<h2><span class="header-section-number">2.1</span> Nested Caching</h2>
<div id="cache-individual-functions" class="section level4">
<h4><span class="header-section-number">2.1.0.1</span> Cache individual functions</h4>
<p><code>Cache(&lt;functionName&gt;, &lt;other arguments&gt;)</code></p>
<p>This will allow fine scale control of individual function calls.</p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
